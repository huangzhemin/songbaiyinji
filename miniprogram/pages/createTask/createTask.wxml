<!--miniprogram/pages/createTask/createTask.wxml-->

<!-- <pm-task-detail>
</pm-task-detail> -->

<view>
  <van-row>
    <van-col class='taskTitle' span="24" >
      <van-field
        value="{{ taskTitle }}"
        label="计划标题"
        type="textarea"
        placeholder="请输入计划标题"
        autosize
        border="{{ true }}"
        id="taskTitle"
        bind:input="onContentChange"
      />
    </van-col>
  </van-row>

  <!-- 计划资料描述部分 -->
  <!-- autosize 这里要研究研究  -->
  <van-row>
    <van-col class='taskPlanDesc' span="24">
      <van-field
        value="{{ taskPlanDesc }}"
        label="计划描述"
        type="textarea"
        placeholder="请输入计划描述"
        autosize
        border="{{ true }}"
        id="taskPlanDesc"
        bind:input="onContentChange"
      />
    </van-col>
  </van-row>

  <!-- 计划资料上传部分 -->
  <van-row>
    <van-field
      label="计划资料上传"
      border="{{ false }}"
      readonly
    />
    <van-col class='taskPlanUpload' offset="2" span="20">
      <block wx:for="{{taskPlanUploadMediaList}}" wx:for-index="idx" wx:key="idx">
        <van-image 
          width="100" 
          height="100" 
          src="{{item}}" 
          data-index="{{idx}}" 
          data-type="plan" 
          bindtap="previewImage"/>
      </block>
      <view wx:if="{{ taskPlanShowUpload }}"
              class='uploadPartSquare'
              id='taskPlanUploadClick'
              bindtap="chooseImage">
        <van-icon name="photograph" />
      </view>
    </van-col>
  </van-row>

  <!-- bind:after-read="afterRead"  -->

  <!-- 完成资料描述部分 -->
  <van-row>
    <van-col class='taskCompleteDesc' span="24">
      <van-field
        value="{{ taskCompleteDesc }}"
        label="计划完成描述"
        type="textarea"
        placeholder="请输入计划完成描述"
        autosize
        border="{{ true }}"
        id="taskCompleteDesc"
        bind:input="onContentChange"
      />
    </van-col>
  </van-row>

  <!-- 完成资料上传部分 -->
  <van-row>
    <van-field
      value="{{ value }}"
      label="完成资料上传"
      border="{{ false }}"
      readonly
    />
    <van-col class='taskCompleteUpload' offset="2" span="20">
      <block wx:for="{{taskCompleteUploadMediaList}}" wx:for-index="idx" wx:key="idx">
        <van-image 
          width="100" 
          height="100" 
          src="{{item}}" 
          data-index="{{idx}}" 
          data-type="complete" 
          bindtap="previewImage"/>
      </block>
      <view wx:if="{{ taskCompleteShowUpload }}"
              class='uploadPartSquare'
              id='taskCompleteUploadClick'
              bindtap="chooseImage">
        <van-icon name="photograph" />
      </view>
    </van-col>
  </van-row>

  <!-- 提交取消 -->
  <van-row>
    <van-col offset="3" span="8">
      <van-button type="primary" plain size="large" id='create' bindtap="onSelfControlPannelClick">提交</van-button>
    </van-col>
    <van-col offset="2" span="8">
      <van-button type="warning" plain size="large" id='cancel' bindtap="onSelfControlPannelClick">取消</van-button>
    </van-col>
  </van-row>
</view>
