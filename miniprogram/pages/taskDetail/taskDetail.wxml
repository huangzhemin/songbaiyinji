<!--miniprogram/pages/taskDetail/taskDetail.wxml-->
<!-- 计划标题 -->
<view wx:if="{{taskTitle}}">
  <van-row>
    <van-col class='taskTitle' span="24" >{{taskTitle}}</van-col>
  </van-row>

  <!-- 计划资料描述部分 -->
  <!-- autosize 这里要研究研究  -->
  <van-row>
    <van-col class='taskPlanDesc' span="24">
      <van-field
        value="{{ taskPlan.taskDesc }}"
        label="计划描述"
        type="textarea"
        placeholder="请输入计划描述"
        autosize
        border="{{ true }}"
      />
    </van-col>
  </van-row>

  <!-- 计划资料上传部分 -->
  <van-row>
    <van-field
      label="计划资料上传"
      border="{{ false }}"
      readonly
    />
    <van-col class='taskPlanUpload' offset="2" span="20">
      <block wx:for="{{taskPlan.uploadMediaList}}" wx:for-index="idx" wx:key="idx">
        <van-image width="100" height="100" src="{{item}}" bindtap="previewImage"/>
      </block>
      <view wx:if="{{ taskPlan.showUpload }}"
              class='uploadPartSquare'
              id='taskPlanUploadClick'
              bindtap="chooseImage">
        <van-icon name="photograph" />
      </view>
    </van-col>
  </van-row>

  <!-- 完成资料描述部分 -->
  <van-row>
    <van-col class='taskCompleteDesc' span="24">
      <van-field
        value="{{ taskComplete.taskDesc }}"
        label="计划完成描述"
        type="textarea"
        placeholder="请输入计划完成描述"
        autosize
        border="{{ true }}"
      />
    </van-col>
  </van-row>

  <!-- 完成资料上传部分 -->
  <van-row>
    <van-field
      value="{{ value }}"
      label="完成资料上传"
      border="{{ false }}"
      readonly
    />
    <van-col class='taskCompleteUpload' offset="2" span="20">
      <block wx:for="{{taskComplete.uploadMediaList}}" wx:for-index="idx" wx:key="idx">
        <van-image width="100" height="100" src="{{item}}" bindtap="previewImage"/>
      </block>
    </van-col>
    <view wx:if="{{ taskComplete.showUpload }}"
              class='uploadPartSquare'
              id='taskCompleteUploadClick'
              bindtap="chooseImage">
      <van-icon name="photograph" />
    </view>
  </van-row>

  <van-cell title="显示分享面板" bind:click="onShareBtnClick" />
  <van-share-sheet
    show="{{ showShare }}"
    title="立即分享给好友"
    options="{{ options }}"
    bind:select="onSharePannelSelect"
    bind:close="onSharePannelClose"
    open-type="share"
  />

  <!-- 修改放弃 -->
  <van-row wx:if="{{status==0}}">
    <van-col offset="3" span="8">
      <van-button type="primary" plain size="large" bindtap="onSubmitClick">修改</van-button>
    </van-col>
    <van-col offset="2" span="8">
      <van-button type="warning" plain size="large" bindtap="onCancelClick">放弃</van-button>
    </van-col>
  </van-row>
</view>